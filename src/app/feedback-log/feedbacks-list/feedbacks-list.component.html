<main class="panel">
  <div class="panel-heading">
    <div class="field">
      <p class="control">
        <a class="title is-4">Feedbacks</a>
        <button
          [disabled]="isAdding"
          (click)="openAddForm()"
          class="button is-link is-small is-outlined is-pulled-right"
          title="Add new feedback"
        >
          <span class="icon is-small">
            <i class="fas fa-plus"></i>
          </span>
        </button>
      </p>
    </div>
  </div>
  <div class="box is-active new-description-box" *ngIf="isAdding">
    <div class="field new-description">
      <p class="control">
        <textarea
          #newDescription
          class="textarea is-info"
          placeholder="Enter Feedback"
          rows="3"
        ></textarea>
      </p>
    </div>
    <div class="field">
      <p class="buttons">
        <button (click)="onDescriptionEnter(newDescription.value)" class="button is-link">
          Add
        </button>
        <button (click)="closeAddForm()" class="button is-danger is-outlined">
          Cancel
        </button>
      </p>
    </div>
  </div>
  <div *ngFor="let feedback of (feedbacks$ | async)" class="panel-block">
    <span class="panel-icon">
      <i class="fas fa-comment" aria-hidden="true"></i>
    </span>
    <p title="{{ feedback.description | textShortView: 100 }}">
      {{ feedback.description | textShortView }}
    </p>
  </div>
</main>
